<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Just another weather app." />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@500&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
    <!-- in order to hide the api key on github, build the script tag programmatically using dotenv.-->
    <script>
      const API_KEY = process.env.API_KEY
      const API_URL = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places`
      // const API_URL = `https://maps.googleapis.com/maps/api/js?key=${API_KEY}&libraries=places&callback=initAutocomplete`
      const script = document.createElement('script')
      script.src = API_URL
      script.defer = true
      script.async = true
      document.head.appendChild(script)
      console.log('script tag: ', document.head.appendChild(script))
    </script>
    <script defer src="script.js"></script>
    <title>JAWA | Just Another Weather App</title>
  </head>
  <body class="blurred">
    <header class="header">
      <div class="place-search-container">
        <input type="text" class="place-search" data-place-search placeholder="Weather at your places" />
      </div>
      <div class="places-container"></div>
    </header>
    <main class="main">
      <div class="current-section">
        <div class="section-title">
          Current Weather
          <div class="section-subtitle"><span data-current-dt></span></div>
        </div>

        <div class="current-container">
          <div class="current-top-left">
            <div class="current-location" data-id data-location></div>
            <button id="btnNewPlace" class="btn-new-place" data-new-place>New Place</button>
            <img
              class="weather-icon large"
              data-current-icon
              src="http://openweathermap.org/img/wn/10d@4x.png"
              alt="rain"
            />
          </div>
          <div class="current-top-right">
            <div class="current-detail">lat:&nbsp;<span data-current-lat></span></div>
            <div class="current-detail">long:&nbsp;<span data-current-long></span></div>
            <br />
            <div class="current-high-low"><span data-current-high></span>/<span data-current-low></span>&deg;</div>
            <div class="current-temp" data-temp-units><span data-current-temp></span>&deg;&nbsp;F</div>
            <div class="current-feels-like">Feels Like:&nbsp;<span data-current-fl></span>&deg;</div>
            <div class="current-description" data-current-description></div>
            <div class="label">
              Precip:&nbsp;<span class="value" data-current-precip></span><span class="value">&percnt;</span>
            </div>
            <div class="label">
              Visibility:&nbsp;<span class="value" data-current-visibility></span
              ><span class="value" data-visibility-units>&nbsp;mi</span>
            </div>
          </div>
          <div class="current-bottom-left">
            <div class="label">
              UV Index:&nbsp;<span class="value" data-current-uv-index></span><span>&nbsp;</span
              ><span class="value" data-current-uv-level></span>
            </div>
            <div class="label">
              Humidity:&nbsp;<span class="value" data-current-humidity></span><span class="value">&percnt;</span>
            </div>
            <div class="label">
              Wind:&nbsp;<span class="value" data-current-wind-speed></span
              ><span class="value" data-wind-units>&nbsp;mph&nbsp;</span
              ><span class="value" data-current-wind-direction></span>
            </div>
          </div>
          <div class="current-bottom-right">
            <div class="label">
              Dew Point:&nbsp;<span class="value" data-current-dew-point></span><span class="value">&deg;</span>
            </div>
            <div class="label">Sunrise:&nbsp;<span class="value" data-current-sunrise></span></div>
            <div class="label">Sunset:&nbsp;<span class="value" data-current-sunset></span></div>
          </div>
        </div>
      </div>
      <div class="daily-section">
        <div class="section-title">
          Forecast
          <div class="section-subtitle"><span>&nbsp</span></div>
        </div>
        <div class="daily-container"></div>
      </div>
      <div class="hourly-section">
        <div class="section-title">
          Hourly Weather
          <div class="section-subtitle" data-hour-timezone></div>
        </div>
        <div class="hourly-container"></div>
      </div>
    </main>

    <template id="template-place-card">
      <div class="place-card" data-place-card>
        <button id="btnDeletePlace" class="btn-delete-place">X</button>
        <img class="weather-icon place-card-item" data-icon src="" />
        <div class="place-text place-card-item" data-location></div>
        <div class="place-text place-card-item" data-hl><span data-high></span>/<span data-low></span>&deg;</div>
      </div>
    </template>

    <template id="template-daily-card">
      <div class="daily-card">
        <img class="weather-icon" data-daily-icon src="" />
        <div class="daily-date" data-daily-date></div>
        <div data-hl><span data-daily-high></span>/<span data-daily-low></span>&deg;</div>
        <div class="daily-description" data-daily-description></div>
        <div class="label">
          Humidity:&nbsp;<span class="value" data-daily-humidity></span><span class="value">&percnt;</span>
        </div>
        <div class="label">
          Wind:&nbsp;<span class="value" data-daily-wind-speed></span
          ><span class="value" data-wind-units>&nbsp;mph&nbsp;</span
          ><span class="value" data-daily-wind-direction></span>
        </div>
      </div>
    </template>

    <template id="template-hour-row">
      <div class="hour-row">
        <div class="hour-data">
          <div class="hour-label" data-hour-date></div>
          <div data-hour class="hour-value"></div>
        </div>
        <div class="hour-data">
          <img class="weather-icon" data-hour-icon src="" />
        </div>
        <div class="hour-data">
          <div class="hour-label">Temp</div>
          <div class="hour-value-margin">
            <span class="hour-value" data-hour-temp></span><span class="hour-value">&deg;</span>
          </div>
        </div>
        <div class="hour-data">
          <div class="hour-label">Precip</div>
          <div class="hour-value-margin">
            <span class="hour-value" data-hour-precip></span><span class="hour-value">&percnt;</span>
          </div>
        </div>
        <div class="hour-data">
          <div class="hour-label">Wind</div>
          <div class="hour-value-margin">
            <span class="hour-value" data-hour-wind-speed></span
            ><span class="hour-value" data-wind-units>&nbsp;mph&nbsp;</span
            ><span class="hour-value" data-hour-wind-direction></span>
          </div>
        </div>
        <div class="hour-data">
          <div class="hour-label">Humidity</div>
          <div class="hour-value-margin">
            <span class="hour-value" data-hour-humidity></span><span class="hour-value">&percnt;</span>
          </div>
        </div>
        <div class="hour-data">
          <div class="hour-label">UV Index</div>
          <div class="hour-value-margin"><span class="hour-value" data-hour-uv-level></span></div>
        </div>
      </div>
    </template>
    <footer>
      <a href="https://openweathermap.org/api" class="openweather-logo" target="_blank">Powered By OpenWeather</a>
    </footer>
  </body>
</html>
